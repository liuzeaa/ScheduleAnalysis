<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>学科选择人数排名</title>
    <link rel="stylesheet" href="../style.css">
    <script src="../js/jquery-1.11.2.min.js"></script>
    <script src="../js/echarts.min.js"></script>
</head>
<body>
    <div id="content">
        <div class="left" style="width:50%;">
            <h2><select class="mt20 select" id="subject" onchange="initLeftChart()"></select></h2>
            <div id="leftChart" style="width:100%;height:700px"></div>
        </div>
        <div class="right" style="width:50%;">
            <h2><select class="mt20 select" id="school" onchange="initRightChart()"></select></h2>
            <div id="rightChart" style="width:100%;height:700px"></div>
        </div>
    </div>
    <script>
        var subjects = ['物理','化学','生物','历史','地理','政治'];
        var schools = ['妙峰山学校','大峪中学','永定中学','清水中学','王平中学','雁翅中学','军庄中学'];
        $(function(){
            initLeftChart();
            initRightChart();
        })
        function initLeftChart(){
            var options ='';
            $(subjects).each(function(i,item){
                options+='<option value="'+i+'">'+item+'</option>';
            });
            $('#subject').append(options);
            var text = $('#subject option:selected').text();
            var  leftChart = echarts.init(document.getElementById('leftChart'));
            var leftOption = {
                title:{
                    text:text+"选课学校排名",
                    x:'center'
                },
                tooltip : {
                    trigger: 'item',
                    formatter: "{a} <br/>{b} : {c}%"
                },
                legend: {
                    data:['选课学校排名'],
                    top:'bottom',
                    left:'center'
                },
                xAxis :{
                    type : 'value'
                },
                color:['#5B9BD5'],
                yAxis : {
                type : 'category',
                    data:schools
                },
                series : [
                    {
                        name:text+'选课学校排名',
                        type:'bar',
                        barWidth:'50%',
                        data:[88,55,87,22,67,55,66]
                    }
                ]
            };
            leftChart.setOption(leftOption);
        }
        function initRightChart(){
            var options ='';
            $(schools).each(function(i,item){
                options+='<option value="'+i+'">'+item+'</option>';
            });
            $('#school').append(options);
            var text = $('#school option:selected').text();
            var  rightChart = echarts.init(document.getElementById('rightChart'));
            var rightOption = {
                title:{
                    text:text+"单学科选考人数比重排名",
                    x:'center'
                },
                tooltip : {
                    trigger: 'item',
                    formatter: "{a} <br/>{b} : {c}%"
                },
                legend: {
                    data:['单学科选考人数比重排名'],
                    top:'bottom',
                    left:'center'
                },
                xAxis :{
                    type : 'value'
                },
                color:['#5B9BD5'],
                yAxis : {
                    type : 'category',
                    data:subjects
                },
                series : [
                    {
                        name:text+'单学科选考人数比重排名',
                        type:'bar',
                        barWidth:'50%',
                        data:[88,55,87,22,67,55]
                    }
                ]
            };
            rightChart.setOption(rightOption);
        }
    </script>
</body>
</html>