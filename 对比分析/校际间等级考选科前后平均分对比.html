<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>校际间等级考选科前后平均分对比</title>
    <link rel="stylesheet" href="../style.css">
    <script src="../js/jquery-1.11.2.min.js"></script>
    <script src="../js/echarts.min.js"></script>
</head>
<body>
    <div id="content">
        <h2><select class="select mt20" id="subject" onchange="initChart()"></select></h2>
        <div id="centerChart" style="width:60%;height:700px;display: inline-block"></div>
    </div>
    <script>
        var schools = ['八一学校','妙峰山学校','大峪中学','永定中学','清水中学','王平中学','雁翅中学','军庄中学'];
        var subjects = ['物理','化学','生物','历史','地理','政治'];
        var options = ''
        $(subjects).each(function(i,item){
            options+='<option value="'+i+'">'+item+'</option>';
        })
        $('#subject').append(options);
        $(function(){
            initChart();
        })
        function initChart(){
            var text = $('#subject option:selected').text();
            var  centerChart = echarts.init(document.getElementById('centerChart'));
            var centerOption = {
                title : {
                    text: '校际间'+text+'等级考选科前后平均分对比',
                    x:'center'
                },
                tooltip : {
                    trigger: 'axis'
                },
                legend: {
                    data:['年级平均分','选考平均分'],
                    left:'center',
                    top:'bottom',
                    orient: 'horizontal'
                },
                color:['#5B9BD5','#ED7D31'],
                calculable : true,
                xAxis : [
                    {
                        type : 'category',
                        data : schools
                    }
                ],
                yAxis : [
                    {
                        type : 'value'
                    }
                ],
                series : [
                    {
                        name:'年级平均分',
                        type:'bar',
                        data:[70, 65,80 , 60, 68, 69, 58,70]

                    },
                    {
                        name:'选考平均分',
                        type:'bar',
                        data:[72, 68, 84, 62, 60, 64, 68,73]

                    }
                ]
            };
            centerChart.setOption(centerOption);
        }

    </script>
</body>
</html>