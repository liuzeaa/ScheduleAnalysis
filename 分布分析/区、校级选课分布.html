<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>分布分析</title>
    <link rel="stylesheet" href="../style.css">
    <script src="../js/jquery-1.11.2.min.js"></script>
    <script src="../js/echarts.min.js"></script>
</head>
<body>
    <div id="content">
        <div class="left" style="width: 50%;">
            <h2>区、校级选课学科分布</h2>
            <select class="select mt20 schoolSel" id="schoolSel1" onchange="initLeftChart()">

            </select>
            <div id="leftChart"  style="width: 100%;height:700px;"></div>
        </div>
        <div class="right" style="width: 50%;">
            <h2>区、校级选课组合分布</h2>
            <select class="select mt20 schoolSel" id="schoolSel2" onchange="initRightChart()">

            </select>
            <div style="width: 100%;height:700px;" id="rightChart"></div>
        </div>
    </div>
    <script>
        var schools = ['妙峰山学校','大峪中学','永定中学','清水中学','王平中学','雁翅中学','军庄中学'];
        var options = ''
        $(schools).each(function(i,item){
            options+='<option value="'+i+'">'+item+'</option>';
        })
        $('.schoolSel').append(options);
        $(function(){
            initLeftChart();
            initRightChart();
        })
        function initLeftChart(){
            var text = $('#schoolSel1 option:selected').text();
            var  leftChart = echarts.init(document.getElementById('leftChart'));
            var leftOption = {
                title : {
                    text: '('+text+')'+'选课学科分布',
                    x:'center',
                    top:'50'
                },
                color:['#358CC1','#2D9C9F','#A4C37B','#9D9394','#84ADE4','#FFC000'],
                tooltip : {
                    trigger: 'item',
                    formatter: "{a} <br/>{b} : {c} ({d}%)"
                },
                legend: {
                    orient: 'horizontal',
                    left: 'center',
                    bottom:'50',
                    data: ['物理','化学','生物','历史','地理','政治']
                },
                series : [
                    {
                        name:'('+text+')'+'选课学科分布' ,
                        type: 'pie',
                        radius : '55%',
                        center: ['50%', '50%'],
                        data:[
                            {value:335, name:'物理'},
                            {value:310, name:'化学'},
                            {value:234, name:'生物'},
                            {value:135, name:'历史'},
                            {value:158, name:'地理'},
                            {value:235, name:'政治'}
                        ],
                        itemStyle: {
                            emphasis: {
                                shadowBlur: 10,
                                shadowOffsetX: 0,
                                shadowColor: 'rgba(0, 0, 0, 0.5)'
                            }
                        }
                    }
                ]
            };
            leftChart.setOption(leftOption);
        }

        function initRightChart(){
            var text = $('#schoolSel2 option:selected').text();
            var  rightChart = echarts.init(document.getElementById('rightChart'));
            var rightOption = {
                title : {
                    text: '('+text+')'+'科目组合学生选择结果统计',
                    x:'center',
                    top:'50'
                },
                color:['#205474','#1B5E5F','#64833C','#605758','#2762B1','#997300','#59A4D1','#40C5C9','#B6CF95','#B1A9A9','#9DBDE9','#FFCD33','#2A709A','#247D7F','#4495C6','#2D9C9F','#A4C37B','#9D9394','#84ADE4','#FFC000'],
                tooltip : {
                    trigger: 'item',
                    formatter: "{a} <br/>{b} : {c} ({d}%)"
                },
                legend: {
                    orient: 'horizontal',
                    left: 'center',
                    width:'400',
                    bottom:'20',
                    data: ['政史地','化生地','化生史','生政史','物化生','生史地','生政地','化生政','化政史','物化政','化史地','物生地','物政地','物化地','物政史','物史地','物化史','物生政','物生史','化政地']
                },
                series : [
                    {
                        name: '('+text+')'+'科目组合学生选择结果统计',
                        type: 'pie',
                        radius : '55%',
                        center: ['50%', '50%'],
                        data:[
                            {value:335, name:'政史地'},
                            {value:310, name:'化生地'},
                            {value:234, name:'化生史'},
                            {value:135, name:'生政史'},
                            {value:158, name:'物化生'},
                            {value:235, name:'生史地'},
                            {value:335, name:'生政地'},
                            {value:310, name:'化生政'},
                            {value:234, name:'化政史'},
                            {value:135, name:'物化政'},
                            {value:158, name:'化史地'},
                            {value:235, name:'物生地'},
                            {value:335, name:'物政地'},
                            {value:310, name:'物化地'},
                            {value:234, name:'物政史'},
                            {value:135, name:'物史地'},
                            {value:158, name:'物化史'},
                            {value:235, name:'物生政'},
                            {value:235, name:'物生史'},
                            {value:235, name:'化政地'}
                        ],
                        itemStyle: {
                            emphasis: {
                                shadowBlur: 10,
                                shadowOffsetX: 0,
                                shadowColor: 'rgba(0, 0, 0, 0.5)'
                            }
                        }
                    }
                ]
            };
            rightChart.setOption(rightOption);
        }

    </script>
</body>
</html>