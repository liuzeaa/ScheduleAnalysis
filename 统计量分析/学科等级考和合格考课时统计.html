<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>学科等级考和合格考课时统计</title>
    <link rel="stylesheet" href="../style.css">
    <script src="../js/jquery-1.11.2.min.js"></script>
    <script src="../js/echarts.min.js"></script>
</head>
<body>
<div id="content">
    <h2><select class="select mt20" id="subject" onchange="initChart()"></select></h2>
    <div id="centerChart" style="width:60%;height: 700px;display: inline-block"></div>
</div>
<script>
    var schools = ['八一中学','妙峰山学校','大峪中学','永定中学','清水中学','王平中学','雁翅中学','军庄中学'];
    var subjects = ['物理','化学','生物','历史','地理','政治'];
    var options = ''
    $(subjects).each(function(i,item){
        options+='<option value="'+i+'">'+item+'</option>';
    })
    $('#subject').append(options);

    $(function(){
        initChart()
    })
    function initChart(){
        var text = $('#subject option:selected').text();
        var  centerChart = echarts.init(document.getElementById('centerChart'));
        var option = {
            title:{
                text:text+"学科等级考和合格考课时统计",
                x:'center'
            },
            tooltip : {
                trigger: 'item',
                formatter: "{a} <br/>{b} : {c}课时"
            },
            legend: {
                data:['等级考课时','合格考课时'],
                top:'bottom',
                left:'center'
            },
            xAxis :
                {
                    type : 'category',
                    data:schools
                },
            color:['#5B9BD5','#ED7D31'],
            yAxis : {
                type : 'value'
            },
            series : [
                {
                    name:text+'等级考课时',
                    type:'bar',
                    data:[4,3,5,4,3,4,3,4],
                    markLine : {
                        data : [
                            {type : 'average', name : '平均值'}
                        ]
                    }
                },
                {
                    name:text+'合格考课时',
                    type:'bar',
                    data:[2,2,3,3,1,1,2,3],
                    markLine : {
                        data : [
                            {type : 'average', name : '平均值'}
                        ]
                    }
                }
            ]
        }
        centerChart.setOption(option);
    }
</script>
</body>
</html>